{"ast":null,"code":"'use strict';\n\nconst {\n  Duplex\n} = require('readable-stream');\nclass PullDuplexStream extends Duplex {\n  constructor(source, sink, options) {\n    super(options);\n    this.source = source;\n    this.drainingSource = false;\n    this.sink = sink;\n    this.input = [];\n    this.writeCallbacks = [];\n    this.internalSourceCallbacks = [];\n    if (this.sink) {\n      this.sink(this._internalSource.bind(this));\n    }\n  }\n  drainPull() {\n    const self = this;\n    this.drainingSource = true;\n    this.source(null, function next(end, data) {\n      if (end instanceof Error) {\n        return self.emit('error', end);\n      }\n      if (end) {\n        return self.push(null);\n      }\n      if (self.push(data)) {\n        self.source(null, next);\n      } else {\n        self.drainingSource = false;\n      }\n    });\n  }\n  _read() {\n    if (this.source && !this.drainingSource) {\n      this.drainPull();\n    }\n  }\n  _write(chunk, encoding, callback) {\n    if (this.internalSourceCallbacks.length > 0) {\n      this.internalSourceCallbacks.shift()(null, chunk);\n      callback();\n    } else {\n      this.input.push(chunk);\n      this.writeCallbacks.push(callback);\n    }\n  }\n  _internalSource(end, cb) {\n    if (end) {\n      if (this.writeCallbacks.length > 0) {\n        // call write callback with error\n        this.writeCallbacks.shift()(end instanceof Error ? end : new Error('Aborted'));\n      }\n      return cb(end);\n    }\n    if (this.input.length > 0) {\n      cb(null, this.input.shift());\n      this.writeCallbacks.shift()();\n    } else {\n      this.internalSourceCallbacks.push(cb);\n    }\n  }\n  _final(callback) {\n    // end the internal source\n    if (this.internalSourceCallbacks.length > 0) {\n      this.internalSourceCallbacks.shift()(true);\n    }\n    callback();\n  }\n  _destroy(err, cb) {\n    // abort the source\n    if (!this._readableState.ended && this.source) {\n      this.source(true, () => {\n        // do nothing\n      });\n    }\n\n    // propagate error to sink\n    if (this.internalSourceCallbacks.length > 0) {\n      this.internalSourceCallbacks.shift()(err);\n    }\n    cb(err);\n  }\n}\nfunction wrapper(source, sink, options) {\n  if (source && typeof source === 'object') {\n    source = source.source;\n    sink = source.sink;\n  }\n  return new PullDuplexStream(source, sink, Object.assign({\n    readableObjectMode: true,\n    writableObjectMode: true\n  }, options));\n}\nmodule.exports = {\n  duplex: wrapper,\n  readable: (source, options) => wrapper(source, null, options),\n  writeable: (sink, options) => wrapper(null, sink, options)\n};","map":{"version":3,"names":["Duplex","require","PullDuplexStream","constructor","source","sink","options","drainingSource","input","writeCallbacks","internalSourceCallbacks","_internalSource","bind","drainPull","self","next","end","data","Error","emit","push","_read","_write","chunk","encoding","callback","length","shift","cb","_final","_destroy","err","_readableState","ended","wrapper","Object","assign","readableObjectMode","writableObjectMode","module","exports","duplex","readable","writeable"],"sources":["C:/blockchain/Victus-health-assistant-main/Victus-health-assistant-main/node_modules/pull-to-stream/index.js"],"sourcesContent":["'use strict';\n\nconst { Duplex } = require('readable-stream');\n\nclass PullDuplexStream extends Duplex {\n    constructor(source, sink, options) {\n        super(options);\n        this.source = source;\n        this.drainingSource = false;\n        this.sink = sink;\n        this.input = [];\n        this.writeCallbacks = [];\n        this.internalSourceCallbacks = [];\n        if (this.sink) {\n            this.sink(this._internalSource.bind(this));\n        }\n    }\n\n    drainPull() {\n        const self = this;\n\n        this.drainingSource = true;\n        this.source(null, function next(end, data) {\n            if (end instanceof Error) {\n                return self.emit('error', end);\n            }\n\n            if (end) {\n                return self.push(null);\n            }\n\n            if (self.push(data)) {\n                self.source(null, next);\n            } else {\n                self.drainingSource = false;\n            }\n        });\n    }\n\n    _read() {\n        if (this.source && !this.drainingSource) {\n            this.drainPull();\n        }\n    }\n\n    _write(chunk, encoding, callback) {\n        if (this.internalSourceCallbacks.length > 0) {\n            this.internalSourceCallbacks.shift()(null, chunk);\n            callback();\n        } else {\n            this.input.push(chunk);\n            this.writeCallbacks.push(callback);\n        }\n    }\n\n    _internalSource(end, cb) {\n        if (end) {\n            if (this.writeCallbacks.length > 0) {\n                // call write callback with error\n                this.writeCallbacks.shift()(\n                    end instanceof Error ? end : new Error('Aborted')\n                );\n            }\n\n            return cb(end);\n        }\n\n        if (this.input.length > 0) {\n            cb(null, this.input.shift());\n            this.writeCallbacks.shift()();\n        } else {\n            this.internalSourceCallbacks.push(cb);\n        }\n    }\n\n    _final(callback) {\n        // end the internal source\n        if (this.internalSourceCallbacks.length > 0) {\n            this.internalSourceCallbacks.shift()(true);\n        }\n        callback();\n    }\n    _destroy(err, cb) {\n        // abort the source\n        if (!this._readableState.ended && this.source) {\n            this.source(true, () => {\n                // do nothing\n            });\n        }\n\n        // propagate error to sink\n        if (this.internalSourceCallbacks.length > 0) {\n            this.internalSourceCallbacks.shift()(err);\n        }\n\n        cb(err);\n    }\n}\n\nfunction wrapper(source, sink, options) {\n    if (source && typeof source === 'object') {\n        source = source.source;\n        sink = source.sink;\n    }\n\n    return new PullDuplexStream(\n        source,\n        sink,\n        Object.assign(\n            {\n                readableObjectMode: true,\n                writableObjectMode: true\n            },\n            options\n        )\n    );\n}\n\nmodule.exports = {\n    duplex: wrapper,\n    readable: (source, options) => wrapper(source, null, options),\n    writeable: (sink, options) => wrapper(null, sink, options)\n};\n"],"mappings":"AAAA,YAAY;;AAEZ,MAAM;EAAEA;AAAO,CAAC,GAAGC,OAAO,CAAC,iBAAiB,CAAC;AAE7C,MAAMC,gBAAgB,SAASF,MAAM,CAAC;EAClCG,WAAWA,CAACC,MAAM,EAAEC,IAAI,EAAEC,OAAO,EAAE;IAC/B,KAAK,CAACA,OAAO,CAAC;IACd,IAAI,CAACF,MAAM,GAAGA,MAAM;IACpB,IAAI,CAACG,cAAc,GAAG,KAAK;IAC3B,IAAI,CAACF,IAAI,GAAGA,IAAI;IAChB,IAAI,CAACG,KAAK,GAAG,EAAE;IACf,IAAI,CAACC,cAAc,GAAG,EAAE;IACxB,IAAI,CAACC,uBAAuB,GAAG,EAAE;IACjC,IAAI,IAAI,CAACL,IAAI,EAAE;MACX,IAAI,CAACA,IAAI,CAAC,IAAI,CAACM,eAAe,CAACC,IAAI,CAAC,IAAI,CAAC,CAAC;IAC9C;EACJ;EAEAC,SAASA,CAAA,EAAG;IACR,MAAMC,IAAI,GAAG,IAAI;IAEjB,IAAI,CAACP,cAAc,GAAG,IAAI;IAC1B,IAAI,CAACH,MAAM,CAAC,IAAI,EAAE,SAASW,IAAIA,CAACC,GAAG,EAAEC,IAAI,EAAE;MACvC,IAAID,GAAG,YAAYE,KAAK,EAAE;QACtB,OAAOJ,IAAI,CAACK,IAAI,CAAC,OAAO,EAAEH,GAAG,CAAC;MAClC;MAEA,IAAIA,GAAG,EAAE;QACL,OAAOF,IAAI,CAACM,IAAI,CAAC,IAAI,CAAC;MAC1B;MAEA,IAAIN,IAAI,CAACM,IAAI,CAACH,IAAI,CAAC,EAAE;QACjBH,IAAI,CAACV,MAAM,CAAC,IAAI,EAAEW,IAAI,CAAC;MAC3B,CAAC,MAAM;QACHD,IAAI,CAACP,cAAc,GAAG,KAAK;MAC/B;IACJ,CAAC,CAAC;EACN;EAEAc,KAAKA,CAAA,EAAG;IACJ,IAAI,IAAI,CAACjB,MAAM,IAAI,CAAC,IAAI,CAACG,cAAc,EAAE;MACrC,IAAI,CAACM,SAAS,CAAC,CAAC;IACpB;EACJ;EAEAS,MAAMA,CAACC,KAAK,EAAEC,QAAQ,EAAEC,QAAQ,EAAE;IAC9B,IAAI,IAAI,CAACf,uBAAuB,CAACgB,MAAM,GAAG,CAAC,EAAE;MACzC,IAAI,CAAChB,uBAAuB,CAACiB,KAAK,CAAC,CAAC,CAAC,IAAI,EAAEJ,KAAK,CAAC;MACjDE,QAAQ,CAAC,CAAC;IACd,CAAC,MAAM;MACH,IAAI,CAACjB,KAAK,CAACY,IAAI,CAACG,KAAK,CAAC;MACtB,IAAI,CAACd,cAAc,CAACW,IAAI,CAACK,QAAQ,CAAC;IACtC;EACJ;EAEAd,eAAeA,CAACK,GAAG,EAAEY,EAAE,EAAE;IACrB,IAAIZ,GAAG,EAAE;MACL,IAAI,IAAI,CAACP,cAAc,CAACiB,MAAM,GAAG,CAAC,EAAE;QAChC;QACA,IAAI,CAACjB,cAAc,CAACkB,KAAK,CAAC,CAAC,CACvBX,GAAG,YAAYE,KAAK,GAAGF,GAAG,GAAG,IAAIE,KAAK,CAAC,SAAS,CACpD,CAAC;MACL;MAEA,OAAOU,EAAE,CAACZ,GAAG,CAAC;IAClB;IAEA,IAAI,IAAI,CAACR,KAAK,CAACkB,MAAM,GAAG,CAAC,EAAE;MACvBE,EAAE,CAAC,IAAI,EAAE,IAAI,CAACpB,KAAK,CAACmB,KAAK,CAAC,CAAC,CAAC;MAC5B,IAAI,CAAClB,cAAc,CAACkB,KAAK,CAAC,CAAC,CAAC,CAAC;IACjC,CAAC,MAAM;MACH,IAAI,CAACjB,uBAAuB,CAACU,IAAI,CAACQ,EAAE,CAAC;IACzC;EACJ;EAEAC,MAAMA,CAACJ,QAAQ,EAAE;IACb;IACA,IAAI,IAAI,CAACf,uBAAuB,CAACgB,MAAM,GAAG,CAAC,EAAE;MACzC,IAAI,CAAChB,uBAAuB,CAACiB,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC;IAC9C;IACAF,QAAQ,CAAC,CAAC;EACd;EACAK,QAAQA,CAACC,GAAG,EAAEH,EAAE,EAAE;IACd;IACA,IAAI,CAAC,IAAI,CAACI,cAAc,CAACC,KAAK,IAAI,IAAI,CAAC7B,MAAM,EAAE;MAC3C,IAAI,CAACA,MAAM,CAAC,IAAI,EAAE,MAAM;QACpB;MAAA,CACH,CAAC;IACN;;IAEA;IACA,IAAI,IAAI,CAACM,uBAAuB,CAACgB,MAAM,GAAG,CAAC,EAAE;MACzC,IAAI,CAAChB,uBAAuB,CAACiB,KAAK,CAAC,CAAC,CAACI,GAAG,CAAC;IAC7C;IAEAH,EAAE,CAACG,GAAG,CAAC;EACX;AACJ;AAEA,SAASG,OAAOA,CAAC9B,MAAM,EAAEC,IAAI,EAAEC,OAAO,EAAE;EACpC,IAAIF,MAAM,IAAI,OAAOA,MAAM,KAAK,QAAQ,EAAE;IACtCA,MAAM,GAAGA,MAAM,CAACA,MAAM;IACtBC,IAAI,GAAGD,MAAM,CAACC,IAAI;EACtB;EAEA,OAAO,IAAIH,gBAAgB,CACvBE,MAAM,EACNC,IAAI,EACJ8B,MAAM,CAACC,MAAM,CACT;IACIC,kBAAkB,EAAE,IAAI;IACxBC,kBAAkB,EAAE;EACxB,CAAC,EACDhC,OACJ,CACJ,CAAC;AACL;AAEAiC,MAAM,CAACC,OAAO,GAAG;EACbC,MAAM,EAAEP,OAAO;EACfQ,QAAQ,EAAEA,CAACtC,MAAM,EAAEE,OAAO,KAAK4B,OAAO,CAAC9B,MAAM,EAAE,IAAI,EAAEE,OAAO,CAAC;EAC7DqC,SAAS,EAAEA,CAACtC,IAAI,EAAEC,OAAO,KAAK4B,OAAO,CAAC,IAAI,EAAE7B,IAAI,EAAEC,OAAO;AAC7D,CAAC"},"metadata":{},"sourceType":"script"}