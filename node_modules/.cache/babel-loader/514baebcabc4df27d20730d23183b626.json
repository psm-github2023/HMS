{"ast":null,"code":"'use strict';\n\nvar values = require('../sources/values');\nvar once = require('../sources/once');\n\n//convert a stream of arrays or streams into just a stream.\nmodule.exports = function flatten() {\n  return function (read) {\n    var _read;\n    return function (abort, cb) {\n      if (abort) {\n        //abort the current stream, and then stream of streams.\n        _read ? _read(abort, function (err) {\n          read(err || abort, cb);\n        }) : read(abort, cb);\n      } else if (_read) nextChunk();else nextStream();\n      function nextChunk() {\n        _read(null, function (err, data) {\n          if (err === true) nextStream();else if (err) {\n            read(true, function (abortErr) {\n              // TODO: what do we do with the abortErr?\n              cb(err);\n            });\n          } else cb(null, data);\n        });\n      }\n      function nextStream() {\n        _read = null;\n        read(null, function (end, stream) {\n          if (end) return cb(end);\n          if (Array.isArray(stream) || stream && 'object' === typeof stream) stream = values(stream);else if ('function' != typeof stream) stream = once(stream);\n          _read = stream;\n          nextChunk();\n        });\n      }\n    };\n  };\n};","map":{"version":3,"names":["values","require","once","module","exports","flatten","read","_read","abort","cb","err","nextChunk","nextStream","data","abortErr","end","stream","Array","isArray"],"sources":["C:/blockchain/Victus-health-assistant-main/Victus-health-assistant-main/node_modules/pull-stream/throughs/flatten.js"],"sourcesContent":["'use strict'\n\nvar values = require('../sources/values')\nvar once = require('../sources/once')\n\n//convert a stream of arrays or streams into just a stream.\nmodule.exports = function flatten () {\n  return function (read) {\n    var _read\n    return function (abort, cb) {\n      if (abort) { //abort the current stream, and then stream of streams.\n        _read ? _read(abort, function(err) {\n          read(err || abort, cb)\n        }) : read(abort, cb)\n      }\n      else if(_read) nextChunk()\n      else nextStream()\n\n      function nextChunk () {\n        _read(null, function (err, data) {\n          if (err === true) nextStream()\n          else if (err) {\n            read(true, function(abortErr) {\n              // TODO: what do we do with the abortErr?\n              cb(err)\n            })\n          }\n          else cb(null, data)\n        })\n      }\n      function nextStream () {\n        _read = null\n        read(null, function (end, stream) {\n          if(end)\n            return cb(end)\n          if(Array.isArray(stream) || stream && 'object' === typeof stream)\n            stream = values(stream)\n          else if('function' != typeof stream)\n            stream = once(stream)\n          _read = stream\n          nextChunk()\n        })\n      }\n    }\n  }\n}\n\n"],"mappings":"AAAA,YAAY;;AAEZ,IAAIA,MAAM,GAAGC,OAAO,CAAC,mBAAmB,CAAC;AACzC,IAAIC,IAAI,GAAGD,OAAO,CAAC,iBAAiB,CAAC;;AAErC;AACAE,MAAM,CAACC,OAAO,GAAG,SAASC,OAAOA,CAAA,EAAI;EACnC,OAAO,UAAUC,IAAI,EAAE;IACrB,IAAIC,KAAK;IACT,OAAO,UAAUC,KAAK,EAAEC,EAAE,EAAE;MAC1B,IAAID,KAAK,EAAE;QAAE;QACXD,KAAK,GAAGA,KAAK,CAACC,KAAK,EAAE,UAASE,GAAG,EAAE;UACjCJ,IAAI,CAACI,GAAG,IAAIF,KAAK,EAAEC,EAAE,CAAC;QACxB,CAAC,CAAC,GAAGH,IAAI,CAACE,KAAK,EAAEC,EAAE,CAAC;MACtB,CAAC,MACI,IAAGF,KAAK,EAAEI,SAAS,CAAC,CAAC,MACrBC,UAAU,CAAC,CAAC;MAEjB,SAASD,SAASA,CAAA,EAAI;QACpBJ,KAAK,CAAC,IAAI,EAAE,UAAUG,GAAG,EAAEG,IAAI,EAAE;UAC/B,IAAIH,GAAG,KAAK,IAAI,EAAEE,UAAU,CAAC,CAAC,MACzB,IAAIF,GAAG,EAAE;YACZJ,IAAI,CAAC,IAAI,EAAE,UAASQ,QAAQ,EAAE;cAC5B;cACAL,EAAE,CAACC,GAAG,CAAC;YACT,CAAC,CAAC;UACJ,CAAC,MACID,EAAE,CAAC,IAAI,EAAEI,IAAI,CAAC;QACrB,CAAC,CAAC;MACJ;MACA,SAASD,UAAUA,CAAA,EAAI;QACrBL,KAAK,GAAG,IAAI;QACZD,IAAI,CAAC,IAAI,EAAE,UAAUS,GAAG,EAAEC,MAAM,EAAE;UAChC,IAAGD,GAAG,EACJ,OAAON,EAAE,CAACM,GAAG,CAAC;UAChB,IAAGE,KAAK,CAACC,OAAO,CAACF,MAAM,CAAC,IAAIA,MAAM,IAAI,QAAQ,KAAK,OAAOA,MAAM,EAC9DA,MAAM,GAAGhB,MAAM,CAACgB,MAAM,CAAC,MACpB,IAAG,UAAU,IAAI,OAAOA,MAAM,EACjCA,MAAM,GAAGd,IAAI,CAACc,MAAM,CAAC;UACvBT,KAAK,GAAGS,MAAM;UACdL,SAAS,CAAC,CAAC;QACb,CAAC,CAAC;MACJ;IACF,CAAC;EACH,CAAC;AACH,CAAC"},"metadata":{},"sourceType":"script"}