{"ast":null,"code":"'use strict';\n\nconst toPull = require('stream-to-pull-stream');\nconst deferred = require('pull-defer');\nconst pump = require('pump');\nconst moduleConfig = require('./utils/module-config');\nconst PingMessageStream = require('./utils/ping-message-stream');\nmodule.exports = arg => {\n  const send = moduleConfig(arg);\n  return (id, opts = {}) => {\n    // Default number of packtes to 1\n    if (!opts.n && !opts.count) {\n      opts.n = 1;\n    }\n    const request = {\n      path: 'ping',\n      args: id,\n      qs: opts\n    };\n    const p = deferred.source();\n    const response = new PingMessageStream();\n    send(request, (err, stream) => {\n      if (err) {\n        return p.abort(err);\n      }\n      pump(stream, response);\n      p.resolve(toPull.source(response));\n    });\n    return p;\n  };\n};","map":{"version":3,"names":["toPull","require","deferred","pump","moduleConfig","PingMessageStream","module","exports","arg","send","id","opts","n","count","request","path","args","qs","p","source","response","err","stream","abort","resolve"],"sources":["C:/blockchain/Victus-health-assistant-main/Victus-health-assistant-main/node_modules/ipfs-http-client/src/ping-pull-stream.js"],"sourcesContent":["'use strict'\n\nconst toPull = require('stream-to-pull-stream')\nconst deferred = require('pull-defer')\nconst pump = require('pump')\nconst moduleConfig = require('./utils/module-config')\nconst PingMessageStream = require('./utils/ping-message-stream')\n\nmodule.exports = (arg) => {\n  const send = moduleConfig(arg)\n\n  return (id, opts = {}) => {\n    // Default number of packtes to 1\n    if (!opts.n && !opts.count) {\n      opts.n = 1\n    }\n    const request = {\n      path: 'ping',\n      args: id,\n      qs: opts\n    }\n    const p = deferred.source()\n    const response = new PingMessageStream()\n\n    send(request, (err, stream) => {\n      if (err) { return p.abort(err) }\n\n      pump(stream, response)\n      p.resolve(toPull.source(response))\n    })\n\n    return p\n  }\n}\n"],"mappings":"AAAA,YAAY;;AAEZ,MAAMA,MAAM,GAAGC,OAAO,CAAC,uBAAuB,CAAC;AAC/C,MAAMC,QAAQ,GAAGD,OAAO,CAAC,YAAY,CAAC;AACtC,MAAME,IAAI,GAAGF,OAAO,CAAC,MAAM,CAAC;AAC5B,MAAMG,YAAY,GAAGH,OAAO,CAAC,uBAAuB,CAAC;AACrD,MAAMI,iBAAiB,GAAGJ,OAAO,CAAC,6BAA6B,CAAC;AAEhEK,MAAM,CAACC,OAAO,GAAIC,GAAG,IAAK;EACxB,MAAMC,IAAI,GAAGL,YAAY,CAACI,GAAG,CAAC;EAE9B,OAAO,CAACE,EAAE,EAAEC,IAAI,GAAG,CAAC,CAAC,KAAK;IACxB;IACA,IAAI,CAACA,IAAI,CAACC,CAAC,IAAI,CAACD,IAAI,CAACE,KAAK,EAAE;MAC1BF,IAAI,CAACC,CAAC,GAAG,CAAC;IACZ;IACA,MAAME,OAAO,GAAG;MACdC,IAAI,EAAE,MAAM;MACZC,IAAI,EAAEN,EAAE;MACRO,EAAE,EAAEN;IACN,CAAC;IACD,MAAMO,CAAC,GAAGhB,QAAQ,CAACiB,MAAM,CAAC,CAAC;IAC3B,MAAMC,QAAQ,GAAG,IAAIf,iBAAiB,CAAC,CAAC;IAExCI,IAAI,CAACK,OAAO,EAAE,CAACO,GAAG,EAAEC,MAAM,KAAK;MAC7B,IAAID,GAAG,EAAE;QAAE,OAAOH,CAAC,CAACK,KAAK,CAACF,GAAG,CAAC;MAAC;MAE/BlB,IAAI,CAACmB,MAAM,EAAEF,QAAQ,CAAC;MACtBF,CAAC,CAACM,OAAO,CAACxB,MAAM,CAACmB,MAAM,CAACC,QAAQ,CAAC,CAAC;IACpC,CAAC,CAAC;IAEF,OAAOF,CAAC;EACV,CAAC;AACH,CAAC"},"metadata":{},"sourceType":"script"}