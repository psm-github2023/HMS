{"ast":null,"code":"'use strict';\n\nconst nodeify = require('../nodeify');\nconst crypto = require('../webcrypto');\nconst lengths = require('./lengths');\nconst hashTypes = {\n  SHA1: 'SHA-1',\n  SHA256: 'SHA-256',\n  SHA512: 'SHA-512'\n};\nconst sign = (key, data, cb) => {\n  nodeify(crypto.subtle.sign({\n    name: 'HMAC'\n  }, key, data).then(raw => Buffer.from(raw)), cb);\n};\nexports.create = function (hashType, secret, callback) {\n  const hash = hashTypes[hashType];\n  nodeify(crypto.subtle.importKey('raw', secret, {\n    name: 'HMAC',\n    hash: {\n      name: hash\n    }\n  }, false, ['sign']).then(key => {\n    return {\n      digest(data, cb) {\n        sign(key, data, cb);\n      },\n      length: lengths[hashType]\n    };\n  }), callback);\n};","map":{"version":3,"names":["nodeify","require","crypto","lengths","hashTypes","SHA1","SHA256","SHA512","sign","key","data","cb","subtle","name","then","raw","Buffer","from","exports","create","hashType","secret","callback","hash","importKey","digest","length"],"sources":["C:/blockchain/Victus-health-assistant-main/Victus-health-assistant-main/node_modules/libp2p-crypto/src/hmac/index-browser.js"],"sourcesContent":["'use strict'\n\nconst nodeify = require('../nodeify')\n\nconst crypto = require('../webcrypto')\nconst lengths = require('./lengths')\n\nconst hashTypes = {\n  SHA1: 'SHA-1',\n  SHA256: 'SHA-256',\n  SHA512: 'SHA-512'\n}\n\nconst sign = (key, data, cb) => {\n  nodeify(crypto.subtle.sign({ name: 'HMAC' }, key, data)\n    .then((raw) => Buffer.from(raw)), cb)\n}\n\nexports.create = function (hashType, secret, callback) {\n  const hash = hashTypes[hashType]\n\n  nodeify(crypto.subtle.importKey(\n    'raw',\n    secret,\n    {\n      name: 'HMAC',\n      hash: { name: hash }\n    },\n    false,\n    ['sign']\n  ).then((key) => {\n    return {\n      digest (data, cb) {\n        sign(key, data, cb)\n      },\n      length: lengths[hashType]\n    }\n  }), callback)\n}\n"],"mappings":"AAAA,YAAY;;AAEZ,MAAMA,OAAO,GAAGC,OAAO,CAAC,YAAY,CAAC;AAErC,MAAMC,MAAM,GAAGD,OAAO,CAAC,cAAc,CAAC;AACtC,MAAME,OAAO,GAAGF,OAAO,CAAC,WAAW,CAAC;AAEpC,MAAMG,SAAS,GAAG;EAChBC,IAAI,EAAE,OAAO;EACbC,MAAM,EAAE,SAAS;EACjBC,MAAM,EAAE;AACV,CAAC;AAED,MAAMC,IAAI,GAAGA,CAACC,GAAG,EAAEC,IAAI,EAAEC,EAAE,KAAK;EAC9BX,OAAO,CAACE,MAAM,CAACU,MAAM,CAACJ,IAAI,CAAC;IAAEK,IAAI,EAAE;EAAO,CAAC,EAAEJ,GAAG,EAAEC,IAAI,CAAC,CACpDI,IAAI,CAAEC,GAAG,IAAKC,MAAM,CAACC,IAAI,CAACF,GAAG,CAAC,CAAC,EAAEJ,EAAE,CAAC;AACzC,CAAC;AAEDO,OAAO,CAACC,MAAM,GAAG,UAAUC,QAAQ,EAAEC,MAAM,EAAEC,QAAQ,EAAE;EACrD,MAAMC,IAAI,GAAGnB,SAAS,CAACgB,QAAQ,CAAC;EAEhCpB,OAAO,CAACE,MAAM,CAACU,MAAM,CAACY,SAAS,CAC7B,KAAK,EACLH,MAAM,EACN;IACER,IAAI,EAAE,MAAM;IACZU,IAAI,EAAE;MAAEV,IAAI,EAAEU;IAAK;EACrB,CAAC,EACD,KAAK,EACL,CAAC,MAAM,CACT,CAAC,CAACT,IAAI,CAAEL,GAAG,IAAK;IACd,OAAO;MACLgB,MAAMA,CAAEf,IAAI,EAAEC,EAAE,EAAE;QAChBH,IAAI,CAACC,GAAG,EAAEC,IAAI,EAAEC,EAAE,CAAC;MACrB,CAAC;MACDe,MAAM,EAAEvB,OAAO,CAACiB,QAAQ;IAC1B,CAAC;EACH,CAAC,CAAC,EAAEE,QAAQ,CAAC;AACf,CAAC"},"metadata":{},"sourceType":"script"}