{"ast":null,"code":"'use strict';\n\nmodule.exports = function drain(op, done) {\n  var read, abort;\n  function sink(_read) {\n    read = _read;\n    if (abort) return sink.abort()\n    //this function is much simpler to write if you\n    //just use recursion, but by using a while loop\n    //we do not blow the stack if the stream happens to be sync.\n    ;\n    (function next() {\n      var loop = true,\n        cbed = false;\n      while (loop) {\n        cbed = false;\n        read(null, function (end, data) {\n          cbed = true;\n          if (end = end || abort) {\n            loop = false;\n            if (done) done(end === true ? null : end);else if (end && end !== true) throw end;\n          } else if (op && false === op(data) || abort) {\n            loop = false;\n            read(abort || true, done || function () {});\n          } else if (!loop) {\n            next();\n          }\n        });\n        if (!cbed) {\n          loop = false;\n          return;\n        }\n      }\n    })();\n  }\n  sink.abort = function (err, cb) {\n    if ('function' == typeof err) cb = err, err = true;\n    abort = err || true;\n    if (read) return read(abort, cb || function () {});\n  };\n  return sink;\n};","map":{"version":3,"names":["module","exports","drain","op","done","read","abort","sink","_read","next","loop","cbed","end","data","err","cb"],"sources":["C:/blockchain/Victus-health-assistant-main/Victus-health-assistant-main/node_modules/pull-stream/sinks/drain.js"],"sourcesContent":["'use strict'\n\nmodule.exports = function drain (op, done) {\n  var read, abort\n\n  function sink (_read) {\n    read = _read\n    if(abort) return sink.abort()\n    //this function is much simpler to write if you\n    //just use recursion, but by using a while loop\n    //we do not blow the stack if the stream happens to be sync.\n    ;(function next() {\n        var loop = true, cbed = false\n        while(loop) {\n          cbed = false\n          read(null, function (end, data) {\n            cbed = true\n            if(end = end || abort) {\n              loop = false\n              if(done) done(end === true ? null : end)\n              else if(end && end !== true)\n                throw end\n            }\n            else if(op && false === op(data) || abort) {\n              loop = false\n              read(abort || true, done || function () {})\n            }\n            else if(!loop){\n              next()\n            }\n          })\n          if(!cbed) {\n            loop = false\n            return\n          }\n        }\n      })()\n  }\n\n  sink.abort = function (err, cb) {\n    if('function' == typeof err)\n      cb = err, err = true\n    abort = err || true\n    if(read) return read(abort, cb || function () {})\n  }\n\n  return sink\n}\n"],"mappings":"AAAA,YAAY;;AAEZA,MAAM,CAACC,OAAO,GAAG,SAASC,KAAKA,CAAEC,EAAE,EAAEC,IAAI,EAAE;EACzC,IAAIC,IAAI,EAAEC,KAAK;EAEf,SAASC,IAAIA,CAAEC,KAAK,EAAE;IACpBH,IAAI,GAAGG,KAAK;IACZ,IAAGF,KAAK,EAAE,OAAOC,IAAI,CAACD,KAAK,CAAC;IAC5B;IACA;IACA;IAAA;IACC,CAAC,SAASG,IAAIA,CAAA,EAAG;MACd,IAAIC,IAAI,GAAG,IAAI;QAAEC,IAAI,GAAG,KAAK;MAC7B,OAAMD,IAAI,EAAE;QACVC,IAAI,GAAG,KAAK;QACZN,IAAI,CAAC,IAAI,EAAE,UAAUO,GAAG,EAAEC,IAAI,EAAE;UAC9BF,IAAI,GAAG,IAAI;UACX,IAAGC,GAAG,GAAGA,GAAG,IAAIN,KAAK,EAAE;YACrBI,IAAI,GAAG,KAAK;YACZ,IAAGN,IAAI,EAAEA,IAAI,CAACQ,GAAG,KAAK,IAAI,GAAG,IAAI,GAAGA,GAAG,CAAC,MACnC,IAAGA,GAAG,IAAIA,GAAG,KAAK,IAAI,EACzB,MAAMA,GAAG;UACb,CAAC,MACI,IAAGT,EAAE,IAAI,KAAK,KAAKA,EAAE,CAACU,IAAI,CAAC,IAAIP,KAAK,EAAE;YACzCI,IAAI,GAAG,KAAK;YACZL,IAAI,CAACC,KAAK,IAAI,IAAI,EAAEF,IAAI,IAAI,YAAY,CAAC,CAAC,CAAC;UAC7C,CAAC,MACI,IAAG,CAACM,IAAI,EAAC;YACZD,IAAI,CAAC,CAAC;UACR;QACF,CAAC,CAAC;QACF,IAAG,CAACE,IAAI,EAAE;UACRD,IAAI,GAAG,KAAK;UACZ;QACF;MACF;IACF,CAAC,EAAE,CAAC;EACR;EAEAH,IAAI,CAACD,KAAK,GAAG,UAAUQ,GAAG,EAAEC,EAAE,EAAE;IAC9B,IAAG,UAAU,IAAI,OAAOD,GAAG,EACzBC,EAAE,GAAGD,GAAG,EAAEA,GAAG,GAAG,IAAI;IACtBR,KAAK,GAAGQ,GAAG,IAAI,IAAI;IACnB,IAAGT,IAAI,EAAE,OAAOA,IAAI,CAACC,KAAK,EAAES,EAAE,IAAI,YAAY,CAAC,CAAC,CAAC;EACnD,CAAC;EAED,OAAOR,IAAI;AACb,CAAC"},"metadata":{},"sourceType":"script"}