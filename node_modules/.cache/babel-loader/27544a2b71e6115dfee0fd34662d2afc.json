{"ast":null,"code":"var capability = require('./capability');\nvar inherits = require('inherits');\nvar IncomingMessage = require('./incoming-message');\nvar stream = require('readable-stream');\nvar fetch = self.fetch;\nvar ClientRequest = module.exports = function (opts) {\n  stream.Writable.call(this);\n  this._opts = opts;\n  this._body = [];\n  this._headers = {};\n  if (opts.auth) this.setHeader('Authorization', 'Basic ' + Buffer.from(opts.auth).toString('base64'));\n  Object.keys(opts.headers).forEach(name => {\n    this.setHeader(name, opts.headers[name]);\n  });\n  this._mode = 'fetch';\n  this._fetchTimer = null;\n  this.on('finish', () => this._onFinish());\n};\ninherits(ClientRequest, stream.Writable);\nClientRequest.prototype.setHeader = function (name, value) {\n  var lowerName = name.toLowerCase();\n  // This check is not necessary, but it prevents warnings from browsers about setting unsafe\n  // headers. To be honest I'm not entirely sure hiding these warnings is a good thing, but\n  // http-browserify did it, so I will too.\n  if (unsafeHeaders.indexOf(lowerName) !== -1) {\n    return;\n  }\n  this._headers[lowerName] = value;\n};\nClientRequest.prototype.getHeader = function (name) {\n  var header = this._headers[name.toLowerCase()];\n  if (header) return header.value;\n  return null;\n};\nClientRequest.prototype.removeHeader = function (name) {\n  delete this._headers[name.toLowerCase()];\n};\nClientRequest.prototype._onFinish = function () {\n  if (this._destroyed) return;\n  var opts = this._opts;\n  var headersObj = this._headers;\n  var body = null;\n  if (opts.method !== 'GET' && opts.method !== 'HEAD') {\n    body = new Blob(this._body, {\n      type: (headersObj['content-type'] || {}).value || ''\n    });\n  }\n  var signal = null;\n  if (capability.abortController) {\n    var controller = new AbortController();\n    signal = controller.signal;\n    this._fetchAbortController = controller;\n    if ('requestTimeout' in opts && opts.requestTimeout !== 0) {\n      this._fetchTimer = setTimeout(() => {\n        this.emit('requestTimeout');\n        if (this._fetchAbortController) this._fetchAbortController.abort();\n      }, opts.requestTimeout);\n    }\n  }\n  fetch(this._opts.url, {\n    method: this._opts.method,\n    headers: this._headers,\n    body: body || undefined,\n    mode: 'cors',\n    credentials: opts.withCredentials ? 'include' : 'same-origin',\n    signal: signal\n  }).then(response => {\n    this._fetchResponse = response;\n    this._connect();\n  }, reason => {\n    clearTimeout(this._fetchTimer);\n    if (!this._destroyed) this.emit('error', reason);\n  });\n};\nClientRequest.prototype._connect = function () {\n  if (this._destroyed) return;\n  this._response = new IncomingMessage(this._fetchResponse, this._mode, this._fetchTimer);\n  this._response.on('error', err => this.emit('error', err));\n  this.emit('response', this._response);\n};\nClientRequest.prototype._write = function (chunk, encoding, cb) {\n  this._body.push(chunk);\n  cb();\n};\nClientRequest.prototype.abort = ClientRequest.prototype.destroy = function () {\n  this._destroyed = true;\n  clearTimeout(this._fetchTimer);\n  if (this._response) this._response._destroyed = true;\n  if (this._xhr) this._xhr.abort();else if (this._fetchAbortController) this._fetchAbortController.abort();\n};\nClientRequest.prototype.end = function (data, encoding, cb) {\n  if (typeof data === 'function') {\n    cb = data;\n    data = undefined;\n  }\n  stream.Writable.prototype.end.call(this, data, encoding, cb);\n};\nClientRequest.prototype.flushHeaders = function () {};\nClientRequest.prototype.setTimeout = function () {};\nClientRequest.prototype.setNoDelay = function () {};\nClientRequest.prototype.setSocketKeepAlive = function () {};\n\n// Taken from http://www.w3.org/TR/XMLHttpRequest/#the-setrequestheader%28%29-method\nvar unsafeHeaders = ['accept-charset', 'accept-encoding', 'access-control-request-headers', 'access-control-request-method', 'connection', 'content-length', 'cookie', 'cookie2', 'date', 'dnt', 'expect', 'host', 'keep-alive', 'origin', 'referer', 'te', 'trailer', 'transfer-encoding', 'upgrade', 'via'];","map":{"version":3,"names":["capability","require","inherits","IncomingMessage","stream","fetch","self","ClientRequest","module","exports","opts","Writable","call","_opts","_body","_headers","auth","setHeader","Buffer","from","toString","Object","keys","headers","forEach","name","_mode","_fetchTimer","on","_onFinish","prototype","value","lowerName","toLowerCase","unsafeHeaders","indexOf","getHeader","header","removeHeader","_destroyed","headersObj","body","method","Blob","type","signal","abortController","controller","AbortController","_fetchAbortController","requestTimeout","setTimeout","emit","abort","url","undefined","mode","credentials","withCredentials","then","response","_fetchResponse","_connect","reason","clearTimeout","_response","err","_write","chunk","encoding","cb","push","destroy","_xhr","end","data","flushHeaders","setNoDelay","setSocketKeepAlive"],"sources":["C:/blockchain/Victus-health-assistant-main/Victus-health-assistant-main/node_modules/iso-stream-http/lib/request.js"],"sourcesContent":["var capability = require('./capability')\nvar inherits = require('inherits')\nvar IncomingMessage = require('./incoming-message')\nvar stream = require('readable-stream')\n\nvar fetch = self.fetch\n\nvar ClientRequest = module.exports = function (opts) {\n\tstream.Writable.call(this)\n\n\tthis._opts = opts\n\tthis._body = []\n\tthis._headers = {}\n\tif (opts.auth)\n\t\tthis.setHeader('Authorization', 'Basic ' + Buffer.from(opts.auth).toString('base64'))\n\n\n\tObject.keys(opts.headers).forEach(name => {\n\t\tthis.setHeader(name, opts.headers[name])\n\t})\n\n\tthis._mode = 'fetch'\n\tthis._fetchTimer = null\n\n\tthis.on('finish',  () => this._onFinish())\n}\n\ninherits(ClientRequest, stream.Writable)\n\nClientRequest.prototype.setHeader = function (name, value) {\n\tvar lowerName = name.toLowerCase()\n\t// This check is not necessary, but it prevents warnings from browsers about setting unsafe\n\t// headers. To be honest I'm not entirely sure hiding these warnings is a good thing, but\n\t// http-browserify did it, so I will too.\n\tif (unsafeHeaders.indexOf(lowerName) !== -1){\n\t\treturn\n\t}\n\tthis._headers[lowerName] = value\n}\n\nClientRequest.prototype.getHeader = function (name) {\n\tvar header = this._headers[name.toLowerCase()]\n\tif (header)\n\t\treturn header.value\n\treturn null\n}\n\nClientRequest.prototype.removeHeader = function (name) {\n\tdelete this._headers[name.toLowerCase()]\n}\n\nClientRequest.prototype._onFinish = function () {\n\tif (this._destroyed)\n\t\treturn\n\tvar opts = this._opts\n\n\tvar headersObj = this._headers\n\tvar body = null\n\tif (opts.method !== 'GET' && opts.method !== 'HEAD') {\n        body = new Blob(this._body, {\n            type: (headersObj['content-type'] || {}).value || ''\n        });\n    }\n\n\tvar signal = null\n\tif (capability.abortController) {\n\t\tvar controller = new AbortController()\n\t\tsignal = controller.signal\n\t\tthis._fetchAbortController = controller\n\n\t\tif ('requestTimeout' in opts && opts.requestTimeout !== 0) {\n\t\t\tthis._fetchTimer = setTimeout(() => {\n\t\t\t\tthis.emit('requestTimeout')\n\t\t\t\tif (this._fetchAbortController)\n\t\t\t\t\tthis._fetchAbortController.abort()\n\t\t\t}, opts.requestTimeout)\n\t\t}\n\t}\n\n\tfetch(this._opts.url, {\n\t\tmethod: this._opts.method,\n\t\theaders: this._headers,\n\t\tbody: body || undefined,\n\t\tmode: 'cors',\n\t\tcredentials: opts.withCredentials ? 'include' : 'same-origin',\n\t\tsignal: signal\n\t})\n\t.then(response => {\n\t\tthis._fetchResponse = response\n\t\tthis._connect()\n\t}, reason => {\n\t\tclearTimeout(this._fetchTimer)\n\t\tif (!this._destroyed)\n\t\t\tthis.emit('error', reason)\n\t})\n}\n\nClientRequest.prototype._connect = function () {\n\tif (this._destroyed)\n\t\treturn\n\n\tthis._response = new IncomingMessage(this._fetchResponse, this._mode, this._fetchTimer)\n\tthis._response.on('error', (err) => this.emit('error', err))\n\n\tthis.emit('response', this._response)\n}\n\nClientRequest.prototype._write = function (chunk, encoding, cb) {\n\tthis._body.push(chunk)\n\tcb()\n}\n\nClientRequest.prototype.abort = ClientRequest.prototype.destroy = function () {\n\tthis._destroyed = true\n\n\t\n\tclearTimeout(this._fetchTimer)\n\t\n\tif (this._response)\n\t\tthis._response._destroyed = true\n\tif (this._xhr)\n\t\tthis._xhr.abort()\n\telse if (this._fetchAbortController)\n\t\tthis._fetchAbortController.abort()\n}\n\nClientRequest.prototype.end = function (data, encoding, cb) {\n\tif (typeof data === 'function') {\n\t\tcb = data\n\t\tdata = undefined\n\t}\n\n\tstream.Writable.prototype.end.call(this, data, encoding, cb)\n}\n\nClientRequest.prototype.flushHeaders = function () {}\nClientRequest.prototype.setTimeout = function () {}\nClientRequest.prototype.setNoDelay = function () {}\nClientRequest.prototype.setSocketKeepAlive = function () {}\n\n// Taken from http://www.w3.org/TR/XMLHttpRequest/#the-setrequestheader%28%29-method\nvar unsafeHeaders = [\n\t'accept-charset',\n\t'accept-encoding',\n\t'access-control-request-headers',\n\t'access-control-request-method',\n\t'connection',\n\t'content-length',\n\t'cookie',\n\t'cookie2',\n\t'date',\n\t'dnt',\n\t'expect',\n\t'host',\n\t'keep-alive',\n\t'origin',\n\t'referer',\n\t'te',\n\t'trailer',\n\t'transfer-encoding',\n\t'upgrade',\n\t'via'\n]\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}