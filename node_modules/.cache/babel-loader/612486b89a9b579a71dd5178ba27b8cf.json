{"ast":null,"code":"'use strict';\n\nconst dagNodeUtil = require('./util');\nconst cloneLinks = dagNodeUtil.cloneLinks;\nconst cloneData = dagNodeUtil.cloneData;\nconst create = require('./create');\nconst CID = require('cids');\nconst rmLink = (dagNode, nameOrCid) => {\n  const data = cloneData(dagNode);\n  let links = cloneLinks(dagNode);\n  if (typeof nameOrCid === 'string') {\n    links = links.filter(link => link.Name !== nameOrCid);\n  } else if (Buffer.isBuffer(nameOrCid) || CID.isCID(nameOrCid)) {\n    links = links.filter(link => !link.Hash.equals(nameOrCid));\n  } else {\n    throw new Error('second arg needs to be a name or CID');\n  }\n  return create(data, links);\n};\nmodule.exports = rmLink;","map":{"version":3,"names":["dagNodeUtil","require","cloneLinks","cloneData","create","CID","rmLink","dagNode","nameOrCid","data","links","filter","link","Name","Buffer","isBuffer","isCID","Hash","equals","Error","module","exports"],"sources":["C:/blockchain/Victus-health-assistant-main/Victus-health-assistant-main/node_modules/ipld-dag-pb/src/dag-node/rmLink.js"],"sourcesContent":["'use strict'\n\nconst dagNodeUtil = require('./util')\nconst cloneLinks = dagNodeUtil.cloneLinks\nconst cloneData = dagNodeUtil.cloneData\nconst create = require('./create')\nconst CID = require('cids')\n\nconst rmLink = (dagNode, nameOrCid) => {\n  const data = cloneData(dagNode)\n  let links = cloneLinks(dagNode)\n\n  if (typeof nameOrCid === 'string') {\n    links = links.filter((link) => link.Name !== nameOrCid)\n  } else if (Buffer.isBuffer(nameOrCid) || CID.isCID(nameOrCid)) {\n    links = links.filter((link) => !link.Hash.equals(nameOrCid))\n  } else {\n    throw new Error('second arg needs to be a name or CID')\n  }\n\n  return create(data, links)\n}\n\nmodule.exports = rmLink\n"],"mappings":"AAAA,YAAY;;AAEZ,MAAMA,WAAW,GAAGC,OAAO,CAAC,QAAQ,CAAC;AACrC,MAAMC,UAAU,GAAGF,WAAW,CAACE,UAAU;AACzC,MAAMC,SAAS,GAAGH,WAAW,CAACG,SAAS;AACvC,MAAMC,MAAM,GAAGH,OAAO,CAAC,UAAU,CAAC;AAClC,MAAMI,GAAG,GAAGJ,OAAO,CAAC,MAAM,CAAC;AAE3B,MAAMK,MAAM,GAAGA,CAACC,OAAO,EAAEC,SAAS,KAAK;EACrC,MAAMC,IAAI,GAAGN,SAAS,CAACI,OAAO,CAAC;EAC/B,IAAIG,KAAK,GAAGR,UAAU,CAACK,OAAO,CAAC;EAE/B,IAAI,OAAOC,SAAS,KAAK,QAAQ,EAAE;IACjCE,KAAK,GAAGA,KAAK,CAACC,MAAM,CAAEC,IAAI,IAAKA,IAAI,CAACC,IAAI,KAAKL,SAAS,CAAC;EACzD,CAAC,MAAM,IAAIM,MAAM,CAACC,QAAQ,CAACP,SAAS,CAAC,IAAIH,GAAG,CAACW,KAAK,CAACR,SAAS,CAAC,EAAE;IAC7DE,KAAK,GAAGA,KAAK,CAACC,MAAM,CAAEC,IAAI,IAAK,CAACA,IAAI,CAACK,IAAI,CAACC,MAAM,CAACV,SAAS,CAAC,CAAC;EAC9D,CAAC,MAAM;IACL,MAAM,IAAIW,KAAK,CAAC,sCAAsC,CAAC;EACzD;EAEA,OAAOf,MAAM,CAACK,IAAI,EAAEC,KAAK,CAAC;AAC5B,CAAC;AAEDU,MAAM,CAACC,OAAO,GAAGf,MAAM"},"metadata":{},"sourceType":"script"}