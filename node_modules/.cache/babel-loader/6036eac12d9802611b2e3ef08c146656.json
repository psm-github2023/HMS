{"ast":null,"code":"'use strict';\n\nvar Buffer = require('safe-buffer').Buffer;\nvar BN = require('./bn');\nvar ECPoint = require('./ecpoint');\nvar ECJPoint = require('./ecjpoint');\nfunction ECPointG() {\n  this.x = BN.fromBuffer(Buffer.from('79BE667EF9DCBBAC55A06295CE870B07029BFCDB2DCE28D959F2815B16F81798', 'hex'));\n  this.y = BN.fromBuffer(Buffer.from('483ADA7726A3C4655DA4FBFC0E1108A8FD17B448A68554199C47D08FFB10D4B8', 'hex'));\n  this.inf = false;\n  this._precompute();\n}\nECPointG.prototype._precompute = function () {\n  var ecpoint = new ECPoint(this.x, this.y);\n  var dstep = 4;\n  var points = new Array(1 + Math.ceil(257 / dstep));\n  var acc = points[0] = ecpoint;\n  for (var i = 1; i < points.length; ++i) {\n    for (var j = 0; j < dstep; j++) acc = acc.dbl();\n    points[i] = acc;\n  }\n  this.precomputed = {\n    naf: ecpoint._getNAFPoints(7),\n    doubles: {\n      step: dstep,\n      points: points,\n      negpoints: points.map(function (p) {\n        return p.neg();\n      })\n    }\n  };\n};\nECPointG.prototype.mul = function (num) {\n  // Algorithm 3.42 Fixed-base NAF windowing method for point multiplication\n  var step = this.precomputed.doubles.step;\n  var points = this.precomputed.doubles.points;\n  var negpoints = this.precomputed.doubles.negpoints;\n  var naf = num.getNAF(1);\n  var I = ((1 << step + 1) - (step % 2 === 0 ? 2 : 1)) / 3;\n\n  // Translate into more windowed form\n  var repr = [];\n  for (var j = 0; j < naf.length; j += step) {\n    var nafW = 0;\n    for (var k = j + step - 1; k >= j; k--) nafW = (nafW << 1) + naf[k];\n    repr.push(nafW);\n  }\n  var a = new ECJPoint(null, null, null);\n  var b = new ECJPoint(null, null, null);\n  for (var i = I; i > 0; i--) {\n    for (var jj = 0; jj < repr.length; jj++) {\n      if (repr[jj] === i) {\n        b = b.mixedAdd(points[jj]);\n      } else if (repr[jj] === -i) {\n        b = b.mixedAdd(negpoints[jj]);\n      }\n    }\n    a = a.add(b);\n  }\n  return ECPoint.fromECJPoint(a);\n};\nECPointG.prototype.mulAdd = function (k1, p2, k2) {\n  var nafPointsP1 = this.precomputed.naf;\n  var nafPointsP2 = p2._getNAFPoints1();\n  var wnd = [nafPointsP1.points, nafPointsP2.points];\n  var naf = [k1.getNAF(nafPointsP1.wnd), k2.getNAF(nafPointsP2.wnd)];\n  var acc = new ECJPoint(null, null, null);\n  var tmp = [null, null];\n  for (var i = Math.max(naf[0].length, naf[1].length); i >= 0; i--) {\n    var k = 0;\n    for (; i >= 0; ++k, --i) {\n      tmp[0] = naf[0][i] | 0;\n      tmp[1] = naf[1][i] | 0;\n      if (tmp[0] !== 0 || tmp[1] !== 0) break;\n    }\n    if (i >= 0) k += 1;\n    acc = acc.dblp(k);\n    if (i < 0) break;\n    for (var jj = 0; jj < 2; jj++) {\n      var z = tmp[jj];\n      var p;\n      if (z === 0) {\n        continue;\n      } else if (z > 0) {\n        p = wnd[jj][z >> 1];\n      } else if (z < 0) {\n        p = wnd[jj][-z >> 1].neg();\n      }\n\n      // hack: ECPoint detection\n      if (p.z === undefined) {\n        acc = acc.mixedAdd(p);\n      } else {\n        acc = acc.add(p);\n      }\n    }\n  }\n  return acc;\n};\nmodule.exports = new ECPointG();","map":{"version":3,"names":["Buffer","require","BN","ECPoint","ECJPoint","ECPointG","x","fromBuffer","from","y","inf","_precompute","prototype","ecpoint","dstep","points","Array","Math","ceil","acc","i","length","j","dbl","precomputed","naf","_getNAFPoints","doubles","step","negpoints","map","p","neg","mul","num","getNAF","I","repr","nafW","k","push","a","b","jj","mixedAdd","add","fromECJPoint","mulAdd","k1","p2","k2","nafPointsP1","nafPointsP2","_getNAFPoints1","wnd","tmp","max","dblp","z","undefined","module","exports"],"sources":["C:/blockchain/Victus-health-assistant-main/Victus-health-assistant-main/node_modules/libp2p-crypto-secp256k1/node_modules/secp256k1/lib/js/ecpointg.js"],"sourcesContent":["'use strict'\nvar Buffer = require('safe-buffer').Buffer\nvar BN = require('./bn')\nvar ECPoint = require('./ecpoint')\nvar ECJPoint = require('./ecjpoint')\n\nfunction ECPointG () {\n  this.x = BN.fromBuffer(Buffer.from('79BE667EF9DCBBAC55A06295CE870B07029BFCDB2DCE28D959F2815B16F81798', 'hex'))\n  this.y = BN.fromBuffer(Buffer.from('483ADA7726A3C4655DA4FBFC0E1108A8FD17B448A68554199C47D08FFB10D4B8', 'hex'))\n  this.inf = false\n\n  this._precompute()\n}\n\nECPointG.prototype._precompute = function () {\n  var ecpoint = new ECPoint(this.x, this.y)\n\n  var dstep = 4\n  var points = new Array(1 + Math.ceil(257 / dstep))\n  var acc = points[0] = ecpoint\n  for (var i = 1; i < points.length; ++i) {\n    for (var j = 0; j < dstep; j++) acc = acc.dbl()\n    points[i] = acc\n  }\n\n  this.precomputed = {\n    naf: ecpoint._getNAFPoints(7),\n    doubles: {\n      step: dstep,\n      points: points,\n      negpoints: points.map(function (p) { return p.neg() })\n    }\n  }\n}\n\nECPointG.prototype.mul = function (num) {\n  // Algorithm 3.42 Fixed-base NAF windowing method for point multiplication\n  var step = this.precomputed.doubles.step\n  var points = this.precomputed.doubles.points\n  var negpoints = this.precomputed.doubles.negpoints\n\n  var naf = num.getNAF(1)\n  var I = ((1 << (step + 1)) - (step % 2 === 0 ? 2 : 1)) / 3\n\n  // Translate into more windowed form\n  var repr = []\n  for (var j = 0; j < naf.length; j += step) {\n    var nafW = 0\n    for (var k = j + step - 1; k >= j; k--) nafW = (nafW << 1) + naf[k]\n    repr.push(nafW)\n  }\n\n  var a = new ECJPoint(null, null, null)\n  var b = new ECJPoint(null, null, null)\n  for (var i = I; i > 0; i--) {\n    for (var jj = 0; jj < repr.length; jj++) {\n      if (repr[jj] === i) {\n        b = b.mixedAdd(points[jj])\n      } else if (repr[jj] === -i) {\n        b = b.mixedAdd(negpoints[jj])\n      }\n    }\n\n    a = a.add(b)\n  }\n\n  return ECPoint.fromECJPoint(a)\n}\n\nECPointG.prototype.mulAdd = function (k1, p2, k2) {\n  var nafPointsP1 = this.precomputed.naf\n  var nafPointsP2 = p2._getNAFPoints1()\n  var wnd = [nafPointsP1.points, nafPointsP2.points]\n  var naf = [k1.getNAF(nafPointsP1.wnd), k2.getNAF(nafPointsP2.wnd)]\n\n  var acc = new ECJPoint(null, null, null)\n  var tmp = [null, null]\n  for (var i = Math.max(naf[0].length, naf[1].length); i >= 0; i--) {\n    var k = 0\n\n    for (; i >= 0; ++k, --i) {\n      tmp[0] = naf[0][i] | 0\n      tmp[1] = naf[1][i] | 0\n\n      if (tmp[0] !== 0 || tmp[1] !== 0) break\n    }\n\n    if (i >= 0) k += 1\n    acc = acc.dblp(k)\n\n    if (i < 0) break\n\n    for (var jj = 0; jj < 2; jj++) {\n      var z = tmp[jj]\n      var p\n      if (z === 0) {\n        continue\n      } else if (z > 0) {\n        p = wnd[jj][z >> 1]\n      } else if (z < 0) {\n        p = wnd[jj][-z >> 1].neg()\n      }\n\n      // hack: ECPoint detection\n      if (p.z === undefined) {\n        acc = acc.mixedAdd(p)\n      } else {\n        acc = acc.add(p)\n      }\n    }\n  }\n\n  return acc\n}\n\nmodule.exports = new ECPointG()\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}